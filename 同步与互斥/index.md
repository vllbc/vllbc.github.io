# Peterson

（信号量单开了一个博文）
## 同步
并发进程在一些关键点上可能需要互相等待或互通消息，这种相互制约的等待或互通消息称为进程同步。
同步机制应遵循的准则

-   **空闲让进**：其他进程均不处于临界区；
-   **忙则等待**：已有进程处于其临界区；
-   **有限等待**：等待进入临界区的进程不能"死等"；
-   **让权等待**：不能进入临界区的进程，应释放CPU（如转换到等待状态）

##  等待

### 死等状态
**进程在有限时间内根本不能进入临界区，而一直在尝试进入，陷入一种无结果的等待状态。**  
**（没有进入临界区的正在等待的某进程根本无法获得临界资源而进入进程，这种等待是无结果的，是死等状态～）-> 这个时候应该放弃这个无结果的事情，保证自己等待的时间是有限的**
### 忙等状态
**当一个进程正处在某临界区内，任何试图进入其临界区的进程都必须进入代码连续循环，陷入忙等状态。连续测试一个变量直到某个值出现为止，称为忙等。
（没有进入临界区的正在等待的某进程不断的在测试循环代码段中的变量的值，占着处理机而不释放，这是一种忙等状态～）-> 这个时候应该释放处理机让给其他进程**
### 有限等待
**对要求访问临界资源的进程，应保证有限时间内能进入自己的临界区，以免陷入“死等”状态～（受惠的是进程自己）**
### 让权等待
**当进程不能进入自己的临界区时，应立即释放处理机，以免进程陷入“忙等”状态（受惠的是其他进程）**
## 硬件方法
### 关中断
通常为非抢占式内核所采用。
### 原子指令
## 软件方法
### 单标志法

### 双标志法

### Peterson算法

## 互斥锁
互斥锁的acquire和release必须要原子的执行，因此一般使用硬件机制实现，对于一般的互斥锁，会一直while等待锁的释放，也就出现忙等待，这种互斥锁也叫做自旋锁。

## 管程




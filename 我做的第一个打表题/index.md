# 我做的第一个打表题



# 	我做的第一个打表题

今天在洛谷刷题，从题单里面开始一点一点刷，然后发现了这道题

[阶乘之和](https://www.luogu.com.cn/problem/P1009)

题目的要求很简单，就是将1-n的所有数的阶乘相加起来。



因为之前做过这样的题目，所以一开始直接想当然的去上手了。



开始我是这样写的：

```c++
#include <iostream>
#include <cstdio>
using namespace std;
int re_jie(int n){
        if(n==1){
            return 1;
        }
        else if(n==0){
            return 0;
        }
        else{
            return n*re_jie(n-1);
        }
    }
int main(){
    int i;
    long long sum;
    cin>>i;
    for(int n=1;n<=i;n++){
        sum+=re_jie(n);
    }
    cout<<sum;
    return 0;
}
```

本以为这个题就这样A过去了

结果后两个WA了，然后我再仔细一看发现这是一个普及题，所以肯定不可能这么简单的。

于是我有看了看题，发现了下面的提示。

原来这个题输入大于20以后数据范围就超了，这时候我意识到这是个高精度问题了。

一看题目的限制，n<=50

数据量不是很大啊。



于是想起了网上常说的打表了。

虽然我知道什么是打表，但也一直没有用到过。



又想起来python里自带高精度数据类型，于是我想起了用python实现打表的任务



python代码如下

```python
def re_jie(n):
    if n==1:
        return 1
    else:
        return n*re_jie(n-1)

def re_sum(m):
    sum=0
    for i in range(1,m+1):
        sum+=re_jie(i)
    return sum
for a in range(1,51):
    print('"{}",'.format(re_sum(a)))

```

最后得到的就是所有的结果

然后将这些结果复制到cpp程序中去

```c++
#include <iostream>
#include <cstdio>
#include <stdlib.h>
#include <string>
using namespace std;

int main(){
    string st[60] = {"0", "1", "3", "9", "33", "153", "873", "5913", "46233", "409113", "4037913", "43954713", "522956313", "6749977113", "93928268313", "1401602636313", "22324392524313", "378011820620313", "6780385526348313", "128425485935180313", "2561327494111820313", "53652269665821260313", "1177652997443428940313", "27029669736328405580313", "647478071469567844940313", "16158688114800553828940313", "419450149241406189412940313", "11308319599659758350180940313", "316196664211373618851684940313", "9157958657951075573395300940313", "274410818470142134209703780940313", "8497249472648064951935266660940313", "271628086406341595119153278820940313", "8954945705218228090637347680100940313", "304187744744822368938255957323620940313", "10637335711130967298604907294846820940313", "382630662501032184766604355445682020940313", "14146383753727377231082583937026584420940313", "537169001220328488991089808037100875620940313", "20935051082417771847631371547939998232420940313", "836850334330315506193242641144055892504420940313", "34289376947494122614363304694584807557656420940313", "1439295494700374021157505910939096377494040420940313", "61854558558074209658512637979453093884758552420940313", "2720126133346522977702138448994068984204397080420940313", "122342346998826717539665299944651784048588130840420940313", "5624964506810915667389970728744906677010239883800420940313", "264248206017979096310354325882356886646207872272920420940313", "12678163798554051767172643373255731925167694226950680420940313", "620960027832821612639424806694551108812720525606160920420940313", "31035053229546199656252032972759319953190362094566672920420940313"};
    int n;
    cin>>n;
    cout<<st[n];
    system("pause");
    return 0;
}
```

最后AC成功了，第一次做打表题，感觉良好，十分舒爽啊！。

最后总结一下

> 1. 数据过大的记得使用高精度
> 2. 数据量不大的用打表比较快

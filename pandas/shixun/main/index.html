
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="vllbc的个人网站">
      
      
      
        <meta name="author" content="vllbc">
      
      
        <link rel="canonical" href="https://vllbc.top/pandas/shixun/main/">
      
      <link rel="icon" href="../../../assets/images/favicon.ico">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-7.3.6">
    
    
      
        <title>实训作业 - Vllbc的个人博客</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.a57b2b03.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.3f5d1f46.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Vllbc的个人博客" class="md-header__button md-logo" aria-label="Vllbc的个人博客" data-md-component="logo">
      
  <img src="../../../assets/images/favicon.ico" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Vllbc的个人博客
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              实训作业
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Vllbc的个人博客" class="md-nav__button md-logo" aria-label="Vllbc的个人博客" data-md-component="logo">
      
  <img src="../../../assets/images/favicon.ico" alt="logo">

    </a>
    Vllbc的个人博客
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        首页
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../2021-goal/goal/" class="md-nav__link">
        2021年目标
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          算法相关
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="算法相关" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          算法相关
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/" class="md-nav__link">
        介绍
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/1/" class="md-nav__link">
        isbn号码
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/2/" class="md-nav__link">
        我做的第一个打表题
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/3/" class="md-nav__link">
        位运算的应用
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/4/" class="md-nav__link">
        位运算的应用(2)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/python_lq/" class="md-nav__link">
        python刷题
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/5/" class="md-nav__link">
        最小公众前缀
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/6/" class="md-nav__link">
        移除元素
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/7/" class="md-nav__link">
        有效的数独
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/8/" class="md-nav__link">
        旋转图像
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/9/" class="md-nav__link">
        去掉重复字母
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/10/" class="md-nav__link">
        字符串转整数
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/11/" class="md-nav__link">
        使用最小花费爬楼梯
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/12/" class="md-nav__link">
        最大子序和
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/13/" class="md-nav__link">
        打家劫舍
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/14/" class="md-nav__link">
        外观数列
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/15/" class="md-nav__link">
        计数质数
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/16/" class="md-nav__link">
        分发饼干
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/17/" class="md-nav__link">
        按序打印
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/18/" class="md-nav__link">
        交换性别
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/19/" class="md-nav__link">
        打印零和奇偶数
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/20/" class="md-nav__link">
        零钱兑换
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/21/" class="md-nav__link">
        翻转二叉树
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/22/" class="md-nav__link">
        验证二叉搜索树
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/23/" class="md-nav__link">
        交替打印字符串
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/24/" class="md-nav__link">
        无重叠区域
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/25/" class="md-nav__link">
        种花问题（2021第一题）
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/26/" class="md-nav__link">
        合并区间
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/27/" class="md-nav__link">
        三数之和
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/28/" class="md-nav__link">
        对角线遍历
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/29/" class="md-nav__link">
        最长回文子串
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/30/" class="md-nav__link">
        长度最小的子数组
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/31/" class="md-nav__link">
        删除排序数组中的重复项
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/32/" class="md-nav__link">
        合并两个有序链表
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/33/" class="md-nav__link">
        使括号有效的最小添加
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/34/" class="md-nav__link">
        平衡括号字符串的最少插入次数
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/35/" class="md-nav__link">
        阶乘函数后K个零
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/36/" class="md-nav__link">
        搜索旋转排序数组
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/37/" class="md-nav__link">
        两两交换链表中的节点
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/38/" class="md-nav__link">
        把数字翻译成字符串
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/39/" class="md-nav__link">
        检查平衡性
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/40/" class="md-nav__link">
        可获得的最大点数
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/41/" class="md-nav__link">
        字符串的排列
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/42/" class="md-nav__link">
        至少有k个重复字符的最长字串
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/43/" class="md-nav__link">
        丑数系列
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/44/" class="md-nav__link">
        最大数
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/45/" class="md-nav__link">
        采购方案
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/46/" class="md-nav__link">
        和为s的连续正数序列
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/47/" class="md-nav__link">
        滑动窗口的中位数
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/48/" class="md-nav__link">
        对称二叉树
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/49/" class="md-nav__link">
        最长递增子序列
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sf/50/" class="md-nav__link">
        分割等和子集
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Python
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Python" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Python
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/" class="md-nav__link">
        介绍
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/plotly/" class="md-nav__link">
        Plotly
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/jupyter/" class="md-nav__link">
        Jupyter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/thread/" class="md-nav__link">
        多线程
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/asyncio/" class="md-nav__link">
        asyncio模块异步编程
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/skill/" class="md-nav__link">
        技巧
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/WTF/" class="md-nav__link">
        WTFpython学习
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/pyqt/" class="md-nav__link">
        pyqt学习
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/logging/" class="md-nav__link">
        logging模块学习
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/pyplot/" class="md-nav__link">
        Matplotlib.pyplot学习
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          爬虫
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="爬虫" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          爬虫
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../spider/base/" class="md-nav__link">
        基础
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../spider/thread_spider/" class="md-nav__link">
        多线程爬虫
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Numpy & Pandas
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Numpy & Pandas" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Numpy & Pandas
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../learn_one/" class="md-nav__link">
        学习1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../learn_two/" class="md-nav__link">
        学习2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../task1/" class="md-nav__link">
        pandas实践1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../task2/" class="md-nav__link">
        pandas实践2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../learn_three/" class="md-nav__link">
        实训笔记
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          实训作业
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        实训作业
      </a>
      
        


<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    导入库
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    读取数据并作简单的了解
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    数据处理
  </a>
  
    <nav class="md-nav" aria-label="数据处理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#datetime64" class="md-nav__link">
    将日期转化为datetime64类型
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    计算总价格
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    选取需要分析的数据
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    合并订单
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          Sklearn
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Sklearn" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Sklearn
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sklearn/%E6%95%B0%E6%8D%AE%E9%A2%84%E5%A4%84%E7%90%86/" class="md-nav__link">
        数据预处理
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sklearn/%E7%AE%80%E5%8D%95%E7%9A%84%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92/" class="md-nav__link">
        简单的线性回归
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sklearn/%E5%A4%8D%E6%9D%82%E7%9A%84%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92/" class="md-nav__link">
        复杂的线性回归
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sklearn/Logistic%20Regression/" class="md-nav__link">
        Logistic Regression
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sklearn/KNN/" class="md-nav__link">
        KNN
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sklearn/SVM/" class="md-nav__link">
        SVM
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sklearn/Decision%20Tree/" class="md-nav__link">
        Decision Tree
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sklearn/%E4%BA%A4%E5%8F%89%E9%AA%8C%E8%AF%81/" class="md-nav__link">
        交叉验证
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sklearn/kmeans/" class="md-nav__link">
        K-means聚类算法
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sklearn/%E5%AD%A6%E4%B9%A0%E6%9B%B2%E7%BA%BF/%E5%AD%A6%E4%B9%A0%E6%9B%B2%E7%BA%BF/" class="md-nav__link">
        学习曲线
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../sklearn/%E9%AA%8C%E8%AF%81%E6%9B%B2%E7%BA%BF/%E9%AA%8C%E8%AF%81%E6%9B%B2%E7%BA%BF/" class="md-nav__link">
        验证曲线
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          AI学习
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="AI学习" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          AI学习
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../pytorch/start/" class="md-nav__link">
        pytorch基础
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../pytorch/regression/" class="md-nav__link">
        pytorch线性回归
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../AI_learn/opencv-learn/" class="md-nav__link">
        opencv学习
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../AI_learn/%E5%85%B7%E6%9C%89%E9%80%BB%E8%BE%91%E5%9B%9E%E5%BD%92%E6%80%9D%E7%BB%B4%E7%9A%84%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/nnLogistic/" class="md-nav__link">
        神经网络逻辑回归
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../AI_learn/%E8%B4%9D%E5%8F%B6%E6%96%AF%E7%AE%97%E6%B3%95/bayes/" class="md-nav__link">
        贝叶斯算法
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../AI_learn/%E5%8F%8D%E5%90%91%E4%BC%A0%E6%92%AD%E7%AE%97%E6%B3%95/Backpropagation/" class="md-nav__link">
        反向传播公式推导
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../AI_learn/norm/" class="md-nav__link">
        范数
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../AI_learn/%E9%9B%86%E6%88%90%E5%AD%A6%E4%B9%A0/Ensemble%20Learning/" class="md-nav__link">
        集成学习
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9">
          kotlin学习
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="kotlin学习" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          kotlin学习
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../kotlin_learn/basic/" class="md-nav__link">
        基础学习
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10">
          其他
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="其他" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          其他
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/vim/" class="md-nav__link">
        vim
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/git/" class="md-nav__link">
        git
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/regex/" class="md-nav__link">
        regex
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/sql/" class="md-nav__link">
        sql
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/one_test/" class="md-nav__link">
        博客后台案例
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/linux/" class="md-nav__link">
        linux学习
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/jupyter_pdf/" class="md-nav__link">
        浅谈jupyter导出为pdf
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../others/others/" class="md-nav__link">
        常用学习网站书籍
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    导入库
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    读取数据并作简单的了解
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    数据处理
  </a>
  
    <nav class="md-nav" aria-label="数据处理">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#datetime64" class="md-nav__link">
    将日期转化为datetime64类型
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    计算总价格
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    选取需要分析的数据
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    合并订单
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="_1">数据导入以及处理<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h1>
<p>数据来自kaggle <a href="https://www.kaggle.com/henslersoftware/19560-indian-takeaway-orders">https://www.kaggle.com/henslersoftware/19560-indian-takeaway-orders</a></p>
<h2 id="_2">导入库<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="n">sns</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s2">&quot;whitegrid&quot;</span><span class="p">,</span> <span class="n">color_codes</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">warnings</span>

<span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">)</span>
</code></pre></div>
<h2 id="_3">读取数据并作简单的了解<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;restaurant-1-orders.csv&quot;</span><span class="p">)</span>
<span class="n">data</span>
</code></pre></div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Order Number</th>
      <th>Order Date</th>
      <th>Item Name</th>
      <th>Quantity</th>
      <th>Product Price</th>
      <th>Total products</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>16118</td>
      <td>03/08/2019 20:25</td>
      <td>Plain Papadum</td>
      <td>2</td>
      <td>0.80</td>
      <td>6</td>
    </tr>
    <tr>
      <th>1</th>
      <td>16118</td>
      <td>03/08/2019 20:25</td>
      <td>King Prawn Balti</td>
      <td>1</td>
      <td>12.95</td>
      <td>6</td>
    </tr>
    <tr>
      <th>2</th>
      <td>16118</td>
      <td>03/08/2019 20:25</td>
      <td>Garlic Naan</td>
      <td>1</td>
      <td>2.95</td>
      <td>6</td>
    </tr>
    <tr>
      <th>3</th>
      <td>16118</td>
      <td>03/08/2019 20:25</td>
      <td>Mushroom Rice</td>
      <td>1</td>
      <td>3.95</td>
      <td>6</td>
    </tr>
    <tr>
      <th>4</th>
      <td>16118</td>
      <td>03/08/2019 20:25</td>
      <td>Paneer Tikka Masala</td>
      <td>1</td>
      <td>8.95</td>
      <td>6</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>74813</th>
      <td>2518</td>
      <td>18/05/2016 18:53</td>
      <td>House Red wine 75cl</td>
      <td>2</td>
      <td>17.95</td>
      <td>7</td>
    </tr>
    <tr>
      <th>74814</th>
      <td>2503</td>
      <td>14/05/2016 19:28</td>
      <td>House Red wine 75cl</td>
      <td>2</td>
      <td>17.95</td>
      <td>6</td>
    </tr>
    <tr>
      <th>74815</th>
      <td>2467</td>
      <td>10/05/2016 13:18</td>
      <td>House Red wine 75cl</td>
      <td>2</td>
      <td>17.95</td>
      <td>9</td>
    </tr>
    <tr>
      <th>74816</th>
      <td>2249</td>
      <td>07/04/2016 19:04</td>
      <td>House white wine 75cl</td>
      <td>1</td>
      <td>17.95</td>
      <td>6</td>
    </tr>
    <tr>
      <th>74817</th>
      <td>1403</td>
      <td>02/10/2015 17:29</td>
      <td>House Red wine 75cl</td>
      <td>1</td>
      <td>17.95</td>
      <td>9</td>
    </tr>
  </tbody>
</table>
<p>74818 rows × 6 columns</p>
</div>

<div class="highlight"><pre><span></span><code><span class="n">data</span><span class="o">.</span><span class="n">shape</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>(74818, 6)
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">data</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 74818 entries, 0 to 74817
Data columns (total 6 columns):
 #   Column          Non-Null Count  Dtype  
---  ------          --------------  -----  
 0   Order Number    74818 non-null  int64  
 1   Order Date      74818 non-null  object 
 2   Item Name       74818 non-null  object 
 3   Quantity        74818 non-null  int64  
 4   Product Price   74818 non-null  float64
 5   Total products  74818 non-null  int64  
dtypes: float64(1), int64(3), object(2)
memory usage: 3.4+ MB
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">data</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</code></pre></div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Order Number</th>
      <th>Quantity</th>
      <th>Product Price</th>
      <th>Total products</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>74818.000000</td>
      <td>74818.000000</td>
      <td>74818.000000</td>
      <td>74818.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>9115.638162</td>
      <td>1.243564</td>
      <td>5.286492</td>
      <td>6.931434</td>
    </tr>
    <tr>
      <th>std</th>
      <td>4052.210452</td>
      <td>0.798207</td>
      <td>3.338221</td>
      <td>3.954832</td>
    </tr>
    <tr>
      <th>min</th>
      <td>630.000000</td>
      <td>1.000000</td>
      <td>0.500000</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>5590.000000</td>
      <td>1.000000</td>
      <td>2.950000</td>
      <td>5.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>9103.000000</td>
      <td>1.000000</td>
      <td>3.950000</td>
      <td>6.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>12630.000000</td>
      <td>1.000000</td>
      <td>8.950000</td>
      <td>8.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>16118.000000</td>
      <td>51.000000</td>
      <td>17.950000</td>
      <td>60.000000</td>
    </tr>
  </tbody>
</table>
</div>

<div class="highlight"><pre><span></span><code><span class="n">data</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>Order Number      0
Order Date        0
Item Name         0
Quantity          0
Product Price     0
Total products    0
dtype: int64
</code></pre></div>

<p>发现没有缺失值，说明kaggle上面的数据集质量还是不错的</p>
<h2 id="_4">数据处理<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h2>
<h3 id="datetime64">将日期转化为datetime64类型<a class="headerlink" href="#datetime64" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Order Date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Order Date&quot;</span><span class="p">])</span>
</code></pre></div>
<h3 id="_5">计算总价格<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<p>总价格为$ Product Price * Quantity $</p>
<div class="highlight"><pre><span></span><code><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Total Price&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;Product Price&quot;</span><span class="p">]</span> <span class="o">*</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;Quantity&quot;</span><span class="p">]</span>
<span class="n">data</span>
</code></pre></div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Order Number</th>
      <th>Order Date</th>
      <th>Item Name</th>
      <th>Quantity</th>
      <th>Product Price</th>
      <th>Total products</th>
      <th>Total Price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>16118</td>
      <td>2019-03-08 20:25:00</td>
      <td>Plain Papadum</td>
      <td>2</td>
      <td>0.80</td>
      <td>6</td>
      <td>1.60</td>
    </tr>
    <tr>
      <th>1</th>
      <td>16118</td>
      <td>2019-03-08 20:25:00</td>
      <td>King Prawn Balti</td>
      <td>1</td>
      <td>12.95</td>
      <td>6</td>
      <td>12.95</td>
    </tr>
    <tr>
      <th>2</th>
      <td>16118</td>
      <td>2019-03-08 20:25:00</td>
      <td>Garlic Naan</td>
      <td>1</td>
      <td>2.95</td>
      <td>6</td>
      <td>2.95</td>
    </tr>
    <tr>
      <th>3</th>
      <td>16118</td>
      <td>2019-03-08 20:25:00</td>
      <td>Mushroom Rice</td>
      <td>1</td>
      <td>3.95</td>
      <td>6</td>
      <td>3.95</td>
    </tr>
    <tr>
      <th>4</th>
      <td>16118</td>
      <td>2019-03-08 20:25:00</td>
      <td>Paneer Tikka Masala</td>
      <td>1</td>
      <td>8.95</td>
      <td>6</td>
      <td>8.95</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>74813</th>
      <td>2518</td>
      <td>2016-05-18 18:53:00</td>
      <td>House Red wine 75cl</td>
      <td>2</td>
      <td>17.95</td>
      <td>7</td>
      <td>35.90</td>
    </tr>
    <tr>
      <th>74814</th>
      <td>2503</td>
      <td>2016-05-14 19:28:00</td>
      <td>House Red wine 75cl</td>
      <td>2</td>
      <td>17.95</td>
      <td>6</td>
      <td>35.90</td>
    </tr>
    <tr>
      <th>74815</th>
      <td>2467</td>
      <td>2016-10-05 13:18:00</td>
      <td>House Red wine 75cl</td>
      <td>2</td>
      <td>17.95</td>
      <td>9</td>
      <td>35.90</td>
    </tr>
    <tr>
      <th>74816</th>
      <td>2249</td>
      <td>2016-07-04 19:04:00</td>
      <td>House white wine 75cl</td>
      <td>1</td>
      <td>17.95</td>
      <td>6</td>
      <td>17.95</td>
    </tr>
    <tr>
      <th>74817</th>
      <td>1403</td>
      <td>2015-02-10 17:29:00</td>
      <td>House Red wine 75cl</td>
      <td>1</td>
      <td>17.95</td>
      <td>9</td>
      <td>17.95</td>
    </tr>
  </tbody>
</table>
<p>74818 rows × 7 columns</p>
</div>

<h3 id="_6">选取需要分析的数据<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">grouper</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Grouper</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;Order Date&quot;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s2">&quot;Y&quot;</span><span class="p">)</span>
<span class="n">data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">grouper</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
</code></pre></div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Order Date</th>
      <th>Order Number</th>
      <th>Quantity</th>
      <th>Product Price</th>
      <th>Total products</th>
      <th>Total Price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2015-12-31</td>
      <td>85035</td>
      <td>80</td>
      <td>353.10</td>
      <td>312</td>
      <td>412.50</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2016-12-31</td>
      <td>34487972</td>
      <td>13496</td>
      <td>57205.25</td>
      <td>78250</td>
      <td>63978.80</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2017-12-31</td>
      <td>126190039</td>
      <td>26112</td>
      <td>110157.85</td>
      <td>142369</td>
      <td>126484.50</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2018-12-31</td>
      <td>263228568</td>
      <td>31239</td>
      <td>134138.45</td>
      <td>180308</td>
      <td>150094.70</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2019-12-31</td>
      <td>258022202</td>
      <td>22114</td>
      <td>93670.10</td>
      <td>117357</td>
      <td>105546.95</td>
    </tr>
  </tbody>
</table>
</div>

<p>观察发现2015年的数据并不完整，因此去除不作为分析的对象。</p>
<div class="highlight"><pre><span></span><code><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Order Date&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span> <span class="o">!=</span> <span class="mi">2015</span><span class="p">]</span>
</code></pre></div>
<h3 id="_7">合并订单<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<p>由于相同的订单并不在同一行，因此需要合并这些订单，并计算出总销售额</p>
<div class="highlight"><pre><span></span><code><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;Order Number&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">order_price</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;Order Number&quot;</span><span class="p">)[[</span><span class="s2">&quot;Total Price&quot;</span><span class="p">,</span>
                                            <span class="s2">&quot;Quantity&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">temp_data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Order Number&quot;</span><span class="p">],</span>
                                 <span class="n">keep</span><span class="o">=</span><span class="s2">&quot;first&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">order_price</span><span class="p">[</span><span class="s2">&quot;Order Date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temp_data</span><span class="p">[</span><span class="s2">&quot;Order Date&quot;</span><span class="p">]</span>
<span class="n">order_price</span>
</code></pre></div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Order Number</th>
      <th>Total Price</th>
      <th>Quantity</th>
      <th>Order Date</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1784</td>
      <td>46.60</td>
      <td>8</td>
      <td>2016-07-03 11:18:00</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1785</td>
      <td>22.75</td>
      <td>5</td>
      <td>2016-07-03 16:59:00</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1786</td>
      <td>21.75</td>
      <td>5</td>
      <td>2016-07-03 17:04:00</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1787</td>
      <td>8.95</td>
      <td>1</td>
      <td>2016-07-03 17:09:00</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1788</td>
      <td>46.60</td>
      <td>8</td>
      <td>2016-08-03 11:45:00</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>13363</th>
      <td>16114</td>
      <td>17.85</td>
      <td>3</td>
      <td>2019-03-08 19:44:00</td>
    </tr>
    <tr>
      <th>13364</th>
      <td>16115</td>
      <td>23.60</td>
      <td>7</td>
      <td>2019-03-08 20:01:00</td>
    </tr>
    <tr>
      <th>13365</th>
      <td>16116</td>
      <td>33.75</td>
      <td>5</td>
      <td>2019-03-08 20:09:00</td>
    </tr>
    <tr>
      <th>13366</th>
      <td>16117</td>
      <td>32.30</td>
      <td>7</td>
      <td>2019-03-08 20:17:00</td>
    </tr>
    <tr>
      <th>13367</th>
      <td>16118</td>
      <td>30.90</td>
      <td>7</td>
      <td>2019-03-08 20:25:00</td>
    </tr>
  </tbody>
</table>
<p>13368 rows × 4 columns</p>
</div>

<h1 id="_8">数据分析<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h1>
<h2 id="_9">总的价格分布<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">final_</span> <span class="o">=</span> <span class="p">[</span><span class="n">order_price</span><span class="p">[</span><span class="s2">&quot;Total Price&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()]</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span>
    <span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span> <span class="o">+</span> <span class="p">[</span><span class="n">order_price</span><span class="p">[</span><span class="s2">&quot;Total Price&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()]</span>
<span class="n">pd</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span><span class="n">order_price</span><span class="p">[</span><span class="s2">&quot;Total Price&quot;</span><span class="p">],</span> <span class="n">bins</span><span class="o">=</span><span class="n">final_</span><span class="p">)</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>(0.5, 10.0]         250
(10.0, 20.0]       2172
(20.0, 30.0]       4240
(30.0, 40.0]       3498
(40.0, 50.0]       1645
(50.0, 60.0]        777
(60.0, 70.0]        334
(70.0, 80.0]        172
(80.0, 90.0]         89
(90.0, 100.0]        60
(100.0, 1242.0]     100
Name: Total Price, dtype: int64
</code></pre></div>

<p>可以看到价格基本上都在20-40之间，画图更能直观的感受到。</p>
<div class="highlight"><pre><span></span><code><span class="n">order_price</span><span class="p">[</span><span class="s2">&quot;Total Price&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s2">&quot;density&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;teal&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Total Price&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">85</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
<p><img alt="png" src="../output_29_0.png" /></p>
<h2 id="_10">计算每个订单的平均价格<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;每个订单的平均价格为：&quot;</span><span class="p">,</span> <span class="n">order_price</span><span class="p">[</span><span class="s2">&quot;Total Price&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code>每个订单的平均价格为： 33.371106373428844
</code></pre></div>

<h2 id="_11">年度销售额曲线<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">grouper</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Grouper</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="s2">&quot;Order Date&quot;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="s2">&quot;Y&quot;</span><span class="p">)</span>
<span class="n">Year_Total_Price</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">grouper</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">Year_Total_Price</span><span class="p">[</span><span class="s2">&quot;Order Date&quot;</span><span class="p">],</span>
         <span class="n">Year_Total_Price</span><span class="p">[</span><span class="s2">&quot;Total Price&quot;</span><span class="p">],</span>
         <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Year_TotalPrice_Curve&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Year&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Total Price&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
<p><img alt="png" src="../output_33_0.png" /></p>
<p>可见销售额在2016-2019年都是稳步增长，但在2019年末下降。</p>
<h2 id="_12">对比销量前五的产品在不同年的销量<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">condition</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;Item Name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()[:</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">index</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;Item Name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">condition</span><span class="p">)]</span>
<span class="n">df</span><span class="p">[</span><span class="s2">&quot;Order Date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;Order Date&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span>
<span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;Item Name&quot;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;Order Date&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
<p><img alt="png" src="../output_36_0.png" /></p>
<p>可以看出销量基本上在2018年达到了巅峰。Pilau Rice的销量一直最高，这也看出来了吃饭主食是必需品</p>
<h2 id="_13">自定义可视化<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">show_data_by_condition</span><span class="p">(</span><span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">title</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">colname</span><span class="p">:</span> <span class="nb">str</span><span class="o">=</span><span class="s2">&quot;Total Price&quot;</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="nb">str</span><span class="o">=</span><span class="s2">&quot;sum&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;[summary]</span>

<span class="sd">    Args:</span>
<span class="sd">        df ([type]): [dataframe]</span>
<span class="sd">        title (str): [the title of graph]</span>
<span class="sd">        colname (str, optional): [the column name]. Defaults to &quot;Total Price&quot;.</span>
<span class="sd">        method (str, optional): [the function]. Defaults to &quot;sum&quot;.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">transform</span><span class="p">(</span><span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;Order Date&quot;</span><span class="p">)[</span><span class="n">colname</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">method</span><span class="p">)</span>

    <span class="n">res</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;Item Name&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">transform</span><span class="p">)</span>
    <span class="n">width</span> <span class="o">=</span> <span class="mf">0.1</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">column_name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">res</span><span class="p">):</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">index</span><span class="p">)))</span> <span class="o">+</span> <span class="n">index</span> <span class="o">*</span> <span class="n">width</span><span class="p">,</span>
                <span class="n">res</span><span class="p">[</span><span class="n">column_name</span><span class="p">],</span>
                <span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span>
                <span class="n">label</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">column_name</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">colname</span> <span class="o">+</span> <span class="s2">&quot;  change&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span>
        <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">index</span><span class="p">)))</span> <span class="o">+</span> <span class="p">(</span><span class="n">width</span> <span class="o">*</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span>
        <span class="n">res</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Year&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>


<span class="c1"># 对比Total Price的变化</span>
<span class="n">show_data_by_condition</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="s2">&quot;Total Price&quot;</span><span class="p">)</span>
</code></pre></div>
<p><img alt="png" src="../output_39_0.png" /></p>
<div class="highlight"><pre><span></span><code><span class="c1"># 总卖出去的产品总数的变化</span>
<span class="n">show_data_by_condition</span><span class="p">(</span><span class="n">df</span><span class="p">,</span>
                       <span class="s2">&quot;Total Products&quot;</span><span class="p">,</span>
                       <span class="n">colname</span><span class="o">=</span><span class="s2">&quot;Total products&quot;</span><span class="p">,</span>
                       <span class="n">method</span><span class="o">=</span><span class="s2">&quot;sum&quot;</span><span class="p">)</span>
</code></pre></div>
<p><img alt="png" src="../output_40_0.png" /></p>
<h2 id="_14">顾客一般都在什么时候下单？<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">counts</span> <span class="o">=</span> <span class="n">order_price</span><span class="p">[</span><span class="s2">&quot;Order Date&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">hour</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()[:</span><span class="mi">5</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">counts</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">counts</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Time&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Counts&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
<p><img alt="png" src="../output_42_0.png" /></p>
<div class="highlight"><pre><span></span><code><span class="n">order_price</span><span class="p">[</span><span class="s2">&quot;Order Date&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">hour</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>  <span class="c1"># 下单时间的平均值</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="mf">18.156343506882106</span>
</code></pre></div>

<p>可见顾客一般都是在下午六点左右下单，说明这家饭店一定不是一个早餐店。</p>
<div class="highlight"><pre><span></span><code><span class="n">plt</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">counts</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">counts</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">shadow</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
<p><img alt="png" src="../output_45_0.png" /></p>
<p>用饼图可以看的更加直观</p>
<h2 id="_15">下单的总价和时间有没有关系？<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">temp_order_data</span> <span class="o">=</span> <span class="n">order_price</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">temp_order_data</span><span class="p">[</span><span class="s2">&quot;Order Date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">order_price</span><span class="p">[</span><span class="s2">&quot;Order Date&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">hour</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">temp_order_data</span><span class="p">[</span><span class="s2">&quot;Order Date&quot;</span><span class="p">][:</span><span class="mi">50</span><span class="p">],</span> <span class="n">temp_order_data</span><span class="p">[</span><span class="s2">&quot;Total Price&quot;</span><span class="p">][:</span><span class="mi">50</span><span class="p">],</span><span class="n">s</span><span class="o">=</span> <span class="n">temp_order_data</span><span class="p">[</span><span class="s2">&quot;Total Price&quot;</span><span class="p">][:</span><span class="mi">50</span><span class="p">]</span><span class="o">*</span><span class="mi">50</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Time&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Total Price&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
<p><img alt="png" src="../output_48_0.png" /></p>
<p>可见订单总价与下单时间没有太大关系，基本上吃饭花的钱都是差不多的</p>
<h2 id="_16">前五数量的产品的总产量<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">Ttpro</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;Item Name&quot;</span><span class="p">)[</span><span class="s2">&quot;Total products&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">Ttcout</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;Item Name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">Ttpro</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">Ttpro</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
<p><img alt="png" src="../output_51_0.png" /></p>
<p>果然卖的越多总产量越多</p>
<h2 id="_17">看看产品数量和总价格有无关系<a class="headerlink" href="#_17" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">sns</span><span class="o">.</span><span class="n">regplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">order_price</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;Quantity&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;Total Price&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
<p><img alt="png" src="../output_54_0.png" /></p>
<p>可以看到产品价格与总价格呈现线性关系，等会可以做简单的预测</p>
<h1 id="_18">简单的预测<a class="headerlink" href="#_18" title="Permanent link">&para;</a></h1>
<h2 id="_19">线性回归模型预测<a class="headerlink" href="#_19" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span><span class="p">,</span> <span class="n">learning_curve</span>
<span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">LinearRegression</span>

<span class="n">X</span> <span class="o">=</span> <span class="n">order_price</span><span class="p">[</span><span class="s2">&quot;Quantity&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">X</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">order_price</span><span class="p">[</span><span class="s2">&quot;Total Price&quot;</span><span class="p">]</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span>
                                                    <span class="n">y</span><span class="p">,</span>
                                                    <span class="n">test_size</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span>
                                                    <span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">LinearRegression</span><span class="p">()</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">score</span><span class="p">(</span><span class="n">X_test</span><span class="p">,</span> <span class="n">y_test</span><span class="p">)</span>
</code></pre></div>
<div class="codehilite"><pre><span></span><code><span class="mf">0.6430517673102916</span>
</code></pre></div>

<p>可见准确度有0.6，还是不错的</p>
<h2 id="_20">绘制学习曲线<a class="headerlink" href="#_20" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">train_sizes</span><span class="p">,</span> <span class="n">train_loss</span><span class="p">,</span> <span class="n">test_loss</span> <span class="o">=</span> <span class="n">learning_curve</span><span class="p">(</span>
    <span class="n">LinearRegression</span><span class="p">(),</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">train_sizes</span><span class="o">=</span><span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="n">train_mean</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">train_loss</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">test_mean</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">test_loss</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">train_sizes</span><span class="p">,</span> <span class="n">train_mean</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Training&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">train_sizes</span><span class="p">,</span> <span class="n">test_mean</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Cross-validation&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Training sizes&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;score&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
<p><img alt="png" src="../output_61_0.png" /></p>
<p>可能是数据量太小的原因，效果不太理想</p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../../learn_three/" class="md-footer__link md-footer__link--prev" aria-label="Previous: 实训笔记" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              实训笔记
            </div>
          </div>
        </a>
      
      
        
        <a href="../../../sklearn/%E6%95%B0%E6%8D%AE%E9%A2%84%E5%A4%84%E7%90%86/" class="md-footer__link md-footer__link--next" aria-label="Next: 数据预处理" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              数据预处理
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        
          Made with
          <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
            Material for MkDocs
          </a>
        
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../assets/javascripts/workers/search.fcfe8b6d.min.js", "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.b1047164.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>
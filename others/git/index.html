<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="author" content="vllbc">
    <link rel="canonical" href="https://vllbc.github.io/others/git/">
    <link rel="shortcut icon" href="../../1.ico">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>git - Vllbc's home</title>
    <link href="../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../js/jquery-3.2.1.min.js"></script>
    <script src="../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "git\u7b14\u8bb0", url: "#_top", children: [
          ]},
        ];

    </script>
    <script src="../../js/base.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../regex/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../regex/" class="btn btn-xs btn-link">
        regex
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../vim/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../vim/" class="btn btn-xs btn-link">
        vim
      </a>
    </div>
    
  </div>

    

    <h1 id="git"><strong>git笔记</strong></h1>
<blockquote>
<ol>
<li><strong><code>git diff</code>：当工作区有改动，临时区为空，diff的对比是“工作区”与最后一次commit提交的仓库的共同文件”；当工作区有改动，临时区不为空，diff对比的是“工作区”与“暂存区”的共同文件”。</strong></li>
</ol>
<p><strong><code>git diff --cached</code>：显示暂存区与最后一次commit的改动。</strong>
   <strong><code>git diff</code> &lt;分支1&gt; &lt;分支2&gt; 显示两个分支最后一次commit的改动。</strong></p>
<ol>
<li>
<p><strong><code>git init</code>初始化一个仓库</strong></p>
</li>
<li>
<p><strong><code>git add .</code>将除<code>.gitignore</code>中声明的所有文件加入暂存区</strong></p>
</li>
<li>
<p><strong><code>git commit -m ""</code> 提交到工作区</strong></p>
</li>
<li>
<p><strong><code>git push</code> 提交到远程库</strong></p>
</li>
<li>
<p><strong><code>git pull</code> 将改动拉到本地库</strong></p>
</li>
<li>
<p><strong><code>git log</code> 查看提交历史</strong>
   <strong><code>git log --oneline</code>简洁输出</strong></p>
</li>
<li>
<p><strong><code>git branch xxx</code> 建立分支xxx</strong>
   <strong>然后用<code>git checkout xxx</code> 切换到分支xxx</strong></p>
</li>
</ol>
<p><strong>或者用<code>git checkout -b xxx</code> 完成同样的操作</strong></p>
<ol>
<li>
<p><strong><code>git checkout</code> 回退版本即head分离 但master不变</strong></p>
</li>
<li>
<p><strong><code>git reset --hard HEAD^</code>回退一个版本（master也改变）</strong>
    <strong><code>git reset --hard HEAD~n</code> 回退n个版本</strong></p>
<p><strong>*<code>*</code>git reset --hard  xxxxxx<code>xxxxxx</code>为版本号 即为git log显示的每一个版本号 一般为前六位</strong></p>
</li>
<li>
<p><strong><code>git merge</code> 比如在master分支里 执行git merge xxx 将xxx分支合并到master中，一般项目开发，一人一个分支，最后提交的时候合并再提交。不过更推荐用git rebase方法，这样合并后的分支更加直观</strong></p>
</li>
<li>
<p><strong><code>git branch -f master~3</code>将分支强制回退三个版本，但head不动</strong></p>
</li>
<li>
<p><strong>当需要另一个分支的所有改动时，用<code>git merge</code>，但当需要部分改动时候，要用<code>git cherry-pick xxx</code>   xxx为哈希值或者分支名，指定为分支名时候，将分支的最新改动合并过来</strong></p>
</li>
<li>
<p><strong>当不知道提交的哈希值时，可以用<code>git rebase -i HEAD~x</code> 来可视化管理，可以调整提交的顺序，可以删除不想要的提交，或合并提交</strong></p>
</li>
<li>
<p><strong><code>git rebase xx1 xx2</code>将xx2分支上的提交记录放到xx1后面</strong></p>
</li>
<li>
<p><strong>git pull 拉取远程仓库的更新</strong> 
    <strong>如果远程仓库同一个分支上已经被修改，那么用git pull --rebase拉取最新的修改并将自己的提交放到这个修改后面。</strong></p>
</li>
<li>
<p><strong><code>git fetch</code>获取远程仓库的数据，不会改变你本地仓库的状态，不会更新你的master,也没有更改你的本地磁盘文件，可以理解为单纯的下载操作。而<code>git pull</code>相当于<code>git fetch + git merge</code>即抓取后合并</strong></p>
</li>
<li>
<p><strong><code>git reflog</code> 查看操作记录，这个操作可以撤销不小心用<code>git reset</code>回退版本的操作</strong>
</p>
</li>
</ol>
</blockquote>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../regex/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../regex/" class="btn btn-xs btn-link">
        regex
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../vim/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../vim/" class="btn btn-xs btn-link">
        vim
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="container-fluid wm-page-content">
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>